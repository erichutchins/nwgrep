{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"nwgrep","text":"<p>Grep your dataframes</p> <p>Search and filter dataframes with grep-like patterns. Works with pandas, polars, and any backend supported by Narwhals.</p> <p> </p> <pre><code># Find what you're looking for\ndf.grep(\"active\")              # Simple search\ndf.grep(\"@gmail.com\")          # Find patterns\ndf.grep(r\"^\\d{3}-\\d{4}$\")      # Regex support\n</code></pre>"},{"location":"#what-is-nwgrep","title":"What is nwgrep?","text":"<p>nwgrep brings the familiar power of <code>grep</code> to dataframes. Search across columns, filter by patterns, use regex - all with a simple, intuitive interface that works seamlessly with any dataframe library thanks to Narwhals.</p>"},{"location":"#why-nwgrep","title":"Why nwgrep?","text":"Familiar Interface If you know <code>grep</code>, you know nwgrep. Same flags (<code>-i</code>, <code>-v</code>, <code>-E</code>), same intuition. Backend Agnostic Write once, run anywhere. Switch from pandas to polars without changing your code. Simple to Use Three ways to use: function call, pipe method, or accessor. Choose what feels natural. Lightning Fast Lazy evaluation with polars/daft. Process multi-GB files efficiently. Type Safe Full type hints. Catch errors before runtime with ty."},{"location":"#quick-start","title":"Quick Start","text":"<p>Install with your preferred backend:</p> <pre><code>uv add nwgrep[polars]  # or pandas, dask, pyarrow, cudf\n</code></pre> <p>Search your data:</p> <pre><code>import pandas as pd\nfrom nwgrep import nwgrep\n\ndf = pd.DataFrame({\n    \"name\": [\"Alice\", \"Bob\", \"Eve\"],\n    \"status\": [\"active\", \"locked\", \"active\"],\n})\n\n# Find all rows containing \"active\"\nresult = nwgrep(df, \"active\")\n</code></pre> <p>That's it. No complex queries, no backend-specific syntax.</p>"},{"location":"#three-ways-to-use","title":"Three Ways to Use","text":"<p>Choose the style that fits your workflow:</p> Direct FunctionPipe MethodAccessor MethodCommand Line <p>Simple and explicit.</p> <pre><code>from nwgrep import nwgrep\nresult = nwgrep(df, \"active\")\n</code></pre> <p>Best for: Simple scripts, one-off searches, maximum clarity.</p> <p>Functional style for data pipelines.</p> <pre><code>result = (\n    df\n    .pipe(nwgrep, \"active\")\n    .pipe(nwgrep, \"@example.com\", columns=[\"email\"])\n    .pipe(lambda x: x.sort_values('name'))\n)\n</code></pre> <p>Best for: Data pipelines, method chaining, functional programming.</p> <p>Cleanest syntax for interactive use.</p> <pre><code>from nwgrep import register_grep_accessor\nregister_grep_accessor()  # Once at startup\n\ndf.grep(\"active\")\ndf.grep(\"ALICE\", case_sensitive=False)\ndf.grep(\"example.com\", columns=[\"email\"])\n</code></pre> <p>Best for: Notebooks, interactive analysis, frequent searching.</p> <p>Search binary formats directly.</p> <pre><code>nwgrep \"error\" logfile.parquet\nnwgrep -i \"warning\" data.feather\nnwgrep --format ndjson \"pattern\" data.parquet | jq .\n</code></pre> <p>Best for: Shell scripts, one-liners, exploring data files.</p>"},{"location":"#powerful-search-options","title":"Powerful Search Options","text":"<p>All the grep features you know and love:</p> <pre><code># Case-insensitive search\ndf.grep(\"ACTIVE\", case_sensitive=False)\n\n# Invert match (like grep -v)\ndf.grep(\"test\", invert=True)\n\n# Regex patterns\ndf.grep(r\".*@example\\.com\", regex=True)\n\n# Multiple patterns (OR logic)\ndf.grep([\"Alice\", \"Bob\"])\n\n# Whole word matching\ndf.grep(\"active\", whole_word=True)\n\n# Column-specific search\ndf.grep(\"pattern\", columns=[\"name\", \"email\"])\n</code></pre>"},{"location":"#backend-support","title":"Backend Support","text":"<p>Works seamlessly with any dataframe library:</p> Backend Status Notes pandas Full support polars DataFrame and LazyFrame pyarrow Table support dask Distributed dataframes daft Lazy evaluation cuDF GPU acceleration modin Parallel pandas <p>Same code, any backend. Switch freely without rewriting your filters.</p>"},{"location":"#real-world-examples","title":"Real-World Examples","text":""},{"location":"#find-active-users","title":"Find Active Users","text":"<pre><code>users = df.grep(\"active\", columns=[\"status\"])\n</code></pre>"},{"location":"#email-domain-search","title":"Email Domain Search","text":"<pre><code>gmail_users = df.grep(\"@gmail.com\", columns=[\"email\"])\n</code></pre>"},{"location":"#log-analysis","title":"Log Analysis","text":"<pre><code>errors = df.grep([\"ERROR\", \"CRITICAL\"], columns=[\"level\"])\n</code></pre>"},{"location":"#data-quality-checks","title":"Data Quality Checks","text":"<pre><code># Find rows without email addresses\nmissing_email = df.grep(r\"\\w+@\\w+\\.\\w+\", regex=True, invert=True)\n</code></pre>"},{"location":"#pipeline-filtering","title":"Pipeline Filtering","text":"<pre><code>result = (\n    df\n    .grep(\"active\", columns=[\"status\"])      # Active users\n    .grep(\"@company.com\", columns=[\"email\"]) # Company emails\n    .grep(\"admin\", invert=True)              # Exclude admins\n)\n</code></pre>"},{"location":"#why-narwhals","title":"Why Narwhals?","text":"<p>Narwhals provides a unified API across dataframe libraries. This means:</p> <ul> <li>Write once, run anywhere - Same code for pandas, polars, or any backend</li> <li>No vendor lock-in - Switch backends without rewriting code</li> <li>Automatic optimization - Each backend uses its strengths</li> <li>Future-proof - Support for new backends as they emerge</li> </ul> <p>nwgrep is a certified Narwhals plugin, enabling truly backend-agnostic filtering.</p>"},{"location":"#next-steps","title":"Next Steps","text":"<ul> <li> Installation</li> </ul> <p>Get nwgrep installed with your preferred backends</p> <p> Installation Guide</p> <ul> <li> Usage</li> </ul> <p>Learn all the ways to search and filter your data</p> <p> Usage Examples</p> <ul> <li> API Reference</li> </ul> <p>Complete function and parameter documentation</p> <p> API Reference</p> <ul> <li> CLI Reference</li> </ul> <p>Command-line interface for binary formats</p> <p> CLI Reference</p>"},{"location":"#credit","title":"Credit","text":"<p>Built with  using Narwhals for dataframe abstraction.</p> <p>Special thanks to Claude and Gemini for their assistance in developing this project.</p>"},{"location":"api/","title":"API Reference","text":"<p>Complete reference for all nwgrep functions and methods.</p>"},{"location":"api/#core-function","title":"Core Function","text":""},{"location":"api/#nwgrep","title":"<code>nwgrep()</code>","text":"<p>Search and filter dataframes with grep-like functionality.</p> <pre><code>nwgrep(\n    df,\n    pattern,\n    *,\n    columns=None,\n    case_sensitive=True,\n    regex=False,\n    invert=False,\n    whole_word=False\n)\n</code></pre> <p>Parameters:</p> <ul> <li> <p><code>df</code> : DataFrame or LazyFrame (pandas, polars, pyarrow, daft, etc.)</p> <p>The dataframe to search. Can be a native dataframe or a Narwhals DataFrame.</p> </li> <li> <p><code>pattern</code> : <code>str</code> or <code>list[str]</code></p> <p>The search pattern(s). If a list is provided, matches any pattern (OR logic).</p> </li> <li> <p><code>columns</code> : <code>list[str]</code>, optional</p> <p>Specific column names to search. If <code>None</code> (default), searches all columns.</p> </li> <li> <p><code>case_sensitive</code> : <code>bool</code>, default <code>True</code></p> <p>Whether the search should be case-sensitive.</p> </li> <li> <p><code>regex</code> : <code>bool</code>, default <code>False</code></p> <p>If <code>True</code>, treat <code>pattern</code> as a regular expression. If <code>False</code>, treat as literal string.</p> </li> <li> <p><code>invert</code> : <code>bool</code>, default <code>False</code></p> <p>If <code>True</code>, return rows that do NOT match the pattern (like <code>grep -v</code>).</p> </li> <li> <p><code>whole_word</code> : <code>bool</code>, default <code>False</code></p> <p>If <code>True</code>, only match complete words. Adds word boundaries (<code>\\b</code>) around the pattern.</p> </li> </ul> <p>Returns:</p> <p>Same type as input - DataFrame or LazyFrame matching the input backend.</p> <p>Examples:</p> <p>Basic search:</p> <pre><code>import pandas as pd\nfrom nwgrep import nwgrep\n\ndf = pd.DataFrame({\"col\": [\"foo\", \"bar\", \"baz\"]})\nresult = nwgrep(df, \"ba\")\n# Returns rows with \"bar\" and \"baz\"\n</code></pre> <p>Case-insensitive:</p> <pre><code>result = nwgrep(df, \"FOO\", case_sensitive=False)\n# Matches \"foo\", \"FOO\", \"Foo\", etc.\n</code></pre> <p>Column-specific:</p> <pre><code>df = pd.DataFrame({\n    \"name\": [\"Alice\", \"Bob\"],\n    \"email\": [\"alice@test.com\", \"bob@test.com\"]\n})\nresult = nwgrep(df, \"alice\", columns=[\"name\"])\n# Only searches the name column\n</code></pre> <p>Regex:</p> <pre><code>result = nwgrep(df, r\"\\.com$\", regex=True, columns=[\"email\"])\n# Finds emails ending with .com\n</code></pre> <p>Multiple patterns:</p> <pre><code>result = nwgrep(df, [\"Alice\", \"Bob\"])\n# Finds rows containing \"Alice\" OR \"Bob\"\n</code></pre> <p>Invert match:</p> <pre><code>result = nwgrep(df, \"test\", invert=True)\n# Returns rows NOT containing \"test\"\n</code></pre> <p>Whole word:</p> <pre><code>df = pd.DataFrame({\"text\": [\"active\", \"activate\", \"actor\"]})\nresult = nwgrep(df, \"active\", whole_word=True)\n# Only matches \"active\", not \"activate\"\n</code></pre>"},{"location":"api/#accessor-registration","title":"Accessor Registration","text":""},{"location":"api/#register_grep_accessor","title":"<code>register_grep_accessor()</code>","text":"<p>Register the <code>.grep()</code> accessor method on pandas and polars DataFrames.</p> <pre><code>register_grep_accessor()\n</code></pre> <p>Parameters: None</p> <p>Returns: None</p> <p>Side Effects:</p> <p>Registers <code>.grep()</code> method on:</p> <ul> <li><code>pandas.DataFrame</code></li> <li><code>polars.DataFrame</code></li> <li><code>polars.LazyFrame</code></li> </ul> <p>Examples:</p> <pre><code>from nwgrep import register_grep_accessor\nimport pandas as pd\n\n# Register once at the start\nregister_grep_accessor()\n\ndf = pd.DataFrame({\"col\": [\"foo\", \"bar\"]})\n\n# Now you can use .grep() directly\nresult = df.grep(\"foo\")\nresult = df.grep(\"FOO\", case_sensitive=False)\nresult = df.grep(\"pattern\", columns=[\"col\"])\n</code></pre> <p>Works with polars too:</p> <pre><code>import polars as pl\nfrom nwgrep import register_grep_accessor\n\nregister_grep_accessor()\n\ndf = pl.DataFrame({\"col\": [\"foo\", \"bar\"]})\nresult = df.grep(\"foo\")\n</code></pre> <p>Warning</p> <p>Call <code>register_grep_accessor()</code> only once per session, typically at the start of your script or notebook.</p>"},{"location":"api/#dataframe-accessor-method","title":"DataFrame Accessor Method","text":""},{"location":"api/#grep","title":"<code>.grep()</code>","text":"<p>Available after calling <code>register_grep_accessor()</code>.</p> <pre><code>df.grep(\n    pattern,\n    *,\n    columns=None,\n    case_sensitive=True,\n    regex=False,\n    invert=False,\n    whole_word=False\n)\n</code></pre> <p>Parameters:</p> <p>Same as <code>nwgrep()</code>, except <code>df</code> is implicit (the dataframe you're calling <code>.grep()</code> on).</p> <p>Returns:</p> <p>Same type as the input dataframe.</p> <p>Examples:</p> <pre><code>from nwgrep import register_grep_accessor\nimport pandas as pd\n\nregister_grep_accessor()\n\ndf = pd.DataFrame({\n    \"name\": [\"Alice\", \"Bob\", \"Eve\"],\n    \"status\": [\"active\", \"inactive\", \"active\"]\n})\n\n# Find active users\nactive = df.grep(\"active\")\n\n# Case-insensitive search\nusers = df.grep(\"ALICE\", case_sensitive=False)\n\n# Column-specific\nname_search = df.grep(\"Alice\", columns=[\"name\"])\n\n# Regex\nemail_pattern = df.grep(r\".*@example\\.com\", regex=True)\n\n# Exclude pattern\nnot_active = df.grep(\"active\", invert=True)\n</code></pre>"},{"location":"api/#type-signatures","title":"Type Signatures","text":"<p>nwgrep includes complete type annotations. The simplified signatures are:</p> <pre><code>from typing import TypeVar, overload\nimport narwhals as nw\n\nFrameT = TypeVar(\"FrameT\")\n\n@overload\ndef nwgrep(\n    df: FrameT,\n    pattern: str | list[str],\n    *,\n    columns: list[str] | None = None,\n    case_sensitive: bool = True,\n    regex: bool = False,\n    invert: bool = False,\n    whole_word: bool = False,\n) -&gt; FrameT: ...\n\n# Narwhals-specific overload\n@overload\ndef nwgrep(\n    df: nw.DataFrame[Any],\n    pattern: str | list[str],\n    *,\n    columns: list[str] | None = None,\n    case_sensitive: bool = True,\n    regex: bool = False,\n    invert: bool = False,\n    whole_word: bool = False,\n) -&gt; nw.DataFrame[Any]: ...\n</code></pre> <p>The function preserves the exact type of the input dataframe.</p>"},{"location":"api/#narwhals-integration","title":"Narwhals Integration","text":"<p>nwgrep is a Narwhals plugin, meaning:</p> <ul> <li>It can be auto-discovered by Narwhals-aware tools</li> <li>It handles Narwhals DataFrames natively</li> <li>It returns Narwhals DataFrames when given Narwhals input</li> </ul> <pre><code>import narwhals as nw\nfrom nwgrep import nwgrep\n\n# Native pandas\nimport pandas as pd\ndf_native = pd.DataFrame({\"col\": [\"a\", \"b\"]})\n\n# Convert to Narwhals\ndf_nw = nw.from_native(df_native)\n\n# nwgrep handles both\nresult_nw = nwgrep(df_nw, \"a\")  # Returns Narwhals DataFrame\nresult_native = nwgrep(df_native, \"a\")  # Returns pandas DataFrame\n\n# Convert back if needed\nresult_pandas = nw.to_native(result_nw)\n</code></pre>"},{"location":"api/#parameter-combinations","title":"Parameter Combinations","text":"<p>Here are common parameter combinations:</p> Use Case Parameters Literal search <code>pattern=\"text\"</code> Case-insensitive <code>case_sensitive=False</code> Regex search <code>regex=True</code> Specific columns <code>columns=[\"col1\", \"col2\"]</code> Exclude pattern <code>invert=True</code> Whole words only <code>whole_word=True</code> Multiple patterns <code>pattern=[\"text1\", \"text2\"]</code> Complex regex <code>pattern=r\"^\\w+@\\w+\\.\\w+$\", regex=True</code>"},{"location":"api/#supported-backends","title":"Supported Backends","text":"<p>nwgrep works with any backend supported by Narwhals:</p> Backend Type Preserved Notes pandas \u2705 Returns <code>pandas.DataFrame</code> polars (eager) \u2705 Returns <code>polars.DataFrame</code> polars (lazy) \u2705 Returns <code>polars.LazyFrame</code> pyarrow \u2705 Returns <code>pyarrow.Table</code> daft \u2705 Returns <code>daft.DataFrame</code> (lazy) dask \u2705 Returns <code>dask.dataframe.DataFrame</code> modin \u2705 Returns <code>modin.pandas.DataFrame</code> cuDF \u2705 Returns <code>cudf.DataFrame</code> <p>The return type always matches the input type.</p>"},{"location":"api/#error-handling","title":"Error Handling","text":"<p>nwgrep raises clear errors for common issues:</p> <p>Invalid column names:</p> <pre><code>nwgrep(df, \"pattern\", columns=[\"nonexistent\"])\n# Raises: ValueError: Column 'nonexistent' not found\n</code></pre> <p>Invalid regex:</p> <pre><code>nwgrep(df, r\"[invalid(regex\", regex=True)\n# Raises: re.error with details\n</code></pre> <p>Empty pattern:</p> <pre><code>nwgrep(df, \"\")\n# Returns empty dataframe (no matches)\n</code></pre>"},{"location":"api/#performance-characteristics","title":"Performance Characteristics","text":"<ul> <li>O(n \u00d7 m) where n = rows, m = columns searched</li> <li>Column filtering reduces m significantly</li> <li>Lazy backends (polars, daft) defer execution</li> <li>String operations are optimized per backend</li> </ul> <p>Best Practices:</p> <ol> <li>Use <code>columns</code> parameter when possible</li> <li>Use lazy frames for large data</li> <li>Compile complex regex patterns outside if reusing</li> <li>Consider backend strengths (polars for large data, pandas for small)</li> </ol>"},{"location":"api/#see-also","title":"See Also","text":"<ul> <li>Usage Guide - Examples and patterns</li> <li>CLI Reference - Command-line interface</li> <li>Narwhals Documentation - Backend abstraction</li> </ul>"},{"location":"cli/","title":"CLI Reference","text":"<p>nwgrep includes a command-line interface for searching parquet, feather, and other binary dataframe formats.</p>"},{"location":"cli/#installation","title":"Installation","text":"<p>To use the CLI, install nwgrep with the <code>cli</code> extra (includes polars for efficient file scanning):</p> <pre><code>uv add nwgrep[cli]\n# or\npip install nwgrep[cli]\n</code></pre>"},{"location":"cli/#basic-usage","title":"Basic Usage","text":"<pre><code>nwgrep [OPTIONS] PATTERN FILE\n</code></pre> <p>Search for <code>PATTERN</code> in <code>FILE</code> and print matching rows.</p>"},{"location":"cli/#examples","title":"Examples","text":""},{"location":"cli/#simple-search","title":"Simple Search","text":"<pre><code># Find rows containing \"error\"\nnwgrep \"error\" logfile.parquet\n\n# Find rows containing \"warning\"\nnwgrep \"warning\" data.feather\n</code></pre>"},{"location":"cli/#case-insensitive-search","title":"Case-Insensitive Search","text":"<pre><code># Match \"ERROR\", \"error\", \"Error\", etc.\nnwgrep -i \"error\" logs.parquet\nnwgrep --ignore-case \"warning\" data.feather\n</code></pre>"},{"location":"cli/#invert-match","title":"Invert Match","text":"<p>Return rows that do NOT match the pattern (like <code>grep -v</code>):</p> <pre><code># Find rows without \"success\"\nnwgrep -v \"success\" results.parquet\nnwgrep --invert-match \"test\" data.feather\n</code></pre>"},{"location":"cli/#regex-search","title":"Regex Search","text":"<pre><code># Find email addresses\nnwgrep -E \"\\w+@\\w+\\.\\w+\" users.parquet\n\n# Find IP addresses\nnwgrep --regex \"\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\" access.log.parquet\n</code></pre>"},{"location":"cli/#column-specific-search","title":"Column-Specific Search","text":"<pre><code># Only search in specific columns\nnwgrep --columns name,email \"alice\" users.parquet\n\n# Search in a single column\nnwgrep --columns status \"active\" users.feather\n</code></pre>"},{"location":"cli/#count-matches","title":"Count Matches","text":"<pre><code># Print count of matching rows instead of the rows themselves\nnwgrep --count \"error\" logs.parquet\n\n# Useful for quick statistics\nnwgrep --count -i \"warning\" data.feather\n</code></pre>"},{"location":"cli/#list-files-with-matches","title":"List Files with Matches","text":"<pre><code># Print filename if matches found (like grep -l)\nnwgrep -l \"error\" data.parquet\n\n# With multiple files\nnwgrep -l \"pattern\" *.parquet\n\n# Useful for filtering which files to process\nfor file in $(nwgrep -l \"error\" *.parquet); do\n    echo \"Processing $file with errors\"\ndone\n</code></pre>"},{"location":"cli/#show-only-matching-values","title":"Show Only Matching Values","text":"<pre><code># Print only the values that matched (like grep -o)\nnwgrep -o \"error\" logs.parquet\n\n# Extract email addresses\nnwgrep -o -E \"\\w+@\\w+\\.\\w+\" users.parquet\n\n# Output format is still configurable\nnwgrep -o --format csv \"pattern\" data.parquet\n</code></pre>"},{"location":"cli/#limit-output","title":"Limit Output","text":"<pre><code># Show only first 10 matches\nnwgrep -n 10 \"error\" large_file.parquet\nnwgrep --max-count 10 \"pattern\" data.feather\n</code></pre>"},{"location":"cli/#output-formats","title":"Output Formats","text":"Default (Table)NDJSONCSVTSV <pre><code># Default: pretty table format\nnwgrep \"pattern\" data.parquet\n</code></pre> <pre><code># Newline-delimited JSON (streams lazily!)\nnwgrep --format ndjson \"pattern\" data.parquet\n\n# Perfect for piping to other tools\nnwgrep --format ndjson \"error\" logs.parquet | jq '.timestamp'\n</code></pre> <pre><code># CSV output\nnwgrep --format csv \"pattern\" data.parquet &gt; results.csv\n</code></pre> <pre><code># Tab-separated values\nnwgrep --format tsv \"pattern\" data.parquet\n</code></pre>"},{"location":"cli/#supported-file-formats","title":"Supported File Formats","text":"<p>nwgrep automatically detects the file format:</p> <pre><code># Parquet files\nnwgrep \"pattern\" data.parquet\n\n# Feather files\nnwgrep \"pattern\" data.feather\nnwgrep \"pattern\" data.arrow\n\n# CSV files\nnwgrep \"pattern\" data.csv\n\n# NDJSON files\nnwgrep \"pattern\" data.ndjson\nnwgrep \"pattern\" data.jsonl\n</code></pre>"},{"location":"cli/#command-line-options","title":"Command-Line Options","text":""},{"location":"cli/#search-options","title":"Search Options","text":"Option Short Description <code>--ignore-case</code> <code>-i</code> Case-insensitive search <code>--invert-match</code> <code>-v</code> Select non-matching rows <code>--regex</code> <code>-E</code> Treat pattern as regex <code>--columns COLS</code> Search only in specified columns (comma-separated) <code>--max-count N</code> <code>-n</code> Stop after N matches"},{"location":"cli/#output-options","title":"Output Options","text":"Option Short Description <code>--count</code> Print count of matching rows instead of rows <code>--files-with-matches</code> <code>-l</code> Print only filenames with matches (like <code>grep -l</code>) <code>--only-matching</code> <code>-o</code> Print only the matching values (like <code>grep -o</code>) <code>--format FORMAT</code> <code>-f</code> Output format: <code>table</code>, <code>csv</code>, <code>tsv</code>, <code>ndjson</code> <code>--no-header</code> Omit column headers in output"},{"location":"cli/#other-options","title":"Other Options","text":"Option Short Description <code>--version</code> Show version and exit <code>--help</code> <code>-h</code> Show help message"},{"location":"cli/#advanced-usage","title":"Advanced Usage","text":""},{"location":"cli/#pipeline-with-jq","title":"Pipeline with jq","text":"<p>Process NDJSON output with jq:</p> <pre><code># Extract specific fields\nnwgrep --format ndjson \"error\" logs.parquet | jq '.timestamp, .message'\n\n# Filter further\nnwgrep --format ndjson \"error\" logs.parquet | jq 'select(.level == \"CRITICAL\")'\n\n# Count matches\nnwgrep --format ndjson \"error\" logs.parquet | jq -s 'length'\n</code></pre>"},{"location":"cli/#pipeline-with-other-tools","title":"Pipeline with Other Tools","text":"<pre><code># CSV output to grep for further filtering\nnwgrep --format csv \"error\" logs.parquet | grep \"database\"\n\n# Count matching rows\nnwgrep --format csv \"error\" logs.parquet | wc -l\n\n# Sort and unique\nnwgrep --format csv \"error\" logs.parquet | sort | uniq\n</code></pre>"},{"location":"cli/#multiple-files","title":"Multiple Files","text":"<p>Process multiple files using shell globbing:</p> <pre><code># Search all parquet files\nfor file in logs/*.parquet; do\n    echo \"==&gt; $file &lt;==\"\n    nwgrep \"error\" \"$file\"\ndone\n\n# Or with find\nfind logs/ -name \"*.parquet\" -exec nwgrep \"error\" {} \\;\n</code></pre>"},{"location":"cli/#complex-patterns","title":"Complex Patterns","text":"<pre><code># Find error codes 400-499\nnwgrep -E \"HTTP [4][0-9]{2}\" access.log.parquet\n\n# Find emails from specific domains\nnwgrep -E \"@(gmail|yahoo)\\.com\" users.parquet\n\n# Find dates in YYYY-MM-DD format\nnwgrep -E \"\\d{4}-\\d{2}-\\d{2}\" events.parquet\n</code></pre>"},{"location":"cli/#performance-tips","title":"Performance Tips","text":""},{"location":"cli/#use-ndjson-for-large-results","title":"Use NDJSON for Large Results","text":"<p>NDJSON format streams results lazily, perfect for large datasets:</p> <pre><code># Streams output - low memory usage\nnwgrep --format ndjson \"pattern\" huge_file.parquet | head -100\n</code></pre>"},{"location":"cli/#column-filtering","title":"Column Filtering","text":"<p>Significantly faster when you know which columns to search:</p> <pre><code># Faster - only searches email column\nnwgrep --columns email \"@gmail.com\" users.parquet\n\n# Slower - searches all columns\nnwgrep \"@gmail.com\" users.parquet\n</code></pre>"},{"location":"cli/#use-lazy-evaluation","title":"Use Lazy Evaluation","text":"<p>The CLI uses polars lazy evaluation automatically:</p> <ul> <li>Parquet files are scanned lazily</li> <li>Only matching rows are loaded into memory</li> <li>Efficient even for multi-GB files</li> </ul>"},{"location":"cli/#exit-status","title":"Exit Status","text":"<ul> <li><code>0</code> - Matches found</li> <li><code>1</code> - No matches found</li> <li><code>2</code> - Error (invalid arguments, file not found, etc.)</li> </ul>"},{"location":"cli/#comparison-with-grep","title":"Comparison with grep","text":"Feature grep nwgrep Plain text files \u2705 \u274c Binary dataframe formats \u274c \u2705 Column-aware \u274c \u2705 Structured output \u274c \u2705 <code>-i</code> (ignore case) \u2705 \u2705 <code>-v</code> (invert) \u2705 \u2705 <code>-E</code> (regex) \u2705 \u2705 <code>-c</code> (count) \u2705 \u2705 <code>-l</code> (files with matches) \u2705 \u2705 <code>-o</code> (only matching) \u2705 \u2705 Line numbers \u2705 N/A <p>nwgrep complements grep - use grep for text files, nwgrep for dataframe files.</p>"},{"location":"cli/#examples-by-use-case","title":"Examples by Use Case","text":""},{"location":"cli/#log-analysis","title":"Log Analysis","text":"<pre><code># Find errors in parquet logs\nnwgrep -i \"error\" application.log.parquet\n\n# Find errors excluding test environment\nnwgrep \"error\" logs.parquet | nwgrep -v \"test\"\n\n# Extract error timestamps\nnwgrep --format ndjson \"error\" logs.parquet | jq '.timestamp'\n</code></pre>"},{"location":"cli/#data-exploration","title":"Data Exploration","text":"<pre><code># Quick peek at active users\nnwgrep \"active\" users.parquet -n 10\n\n# Find all Gmail users\nnwgrep \"@gmail.com\" users.parquet --columns email\n\n# Check for missing data (null, NA, etc.)\nnwgrep -E \"(null|NA|None)\" data.parquet\n</code></pre>"},{"location":"cli/#data-extraction","title":"Data Extraction","text":"<pre><code># Extract matching rows to CSV\nnwgrep \"condition\" data.parquet --format csv &gt; subset.csv\n\n# Convert parquet subset to NDJSON\nnwgrep \"pattern\" data.parquet --format ndjson &gt; subset.jsonl\n\n# Filter and transform\nnwgrep --format ndjson \"error\" logs.parquet | jq '{time: .timestamp, msg: .message}' &gt; errors.jsonl\n</code></pre>"},{"location":"cli/#troubleshooting","title":"Troubleshooting","text":""},{"location":"cli/#file-not-found","title":"File Not Found","text":"<pre><code>$ nwgrep \"pattern\" missing.parquet\nError: File not found: missing.parquet\n</code></pre> <p>Check the file path and ensure the file exists.</p>"},{"location":"cli/#invalid-regex","title":"Invalid Regex","text":"<pre><code>$ nwgrep -E \"[invalid(regex\" data.parquet\nError: Invalid regex pattern: [invalid(regex\n</code></pre> <p>Fix the regex pattern syntax.</p>"},{"location":"cli/#no-cli-installed","title":"No CLI Installed","text":"<pre><code>$ nwgrep \"pattern\" data.parquet\nbash: nwgrep: command not found\n</code></pre> <p>Install with CLI support:</p> <pre><code>uv add nwgrep[cli]\n</code></pre>"},{"location":"cli/#see-also","title":"See Also","text":"<ul> <li>Usage Guide - Python API usage</li> <li>API Reference - Function reference</li> <li>Installation - Setup instructions</li> </ul>"},{"location":"contributing/","title":"Contributing to nwgrep","text":"<p>Thank you for your interest in contributing to nwgrep! This document provides guidelines and instructions for development.</p>"},{"location":"contributing/#development-setup","title":"Development Setup","text":""},{"location":"contributing/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.10+</li> <li>uv - Fast Python package manager</li> <li>just - Command runner</li> <li>prek - Pre-commit hooks runner</li> </ul>"},{"location":"contributing/#installation","title":"Installation","text":"<ol> <li>Clone the repository:</li> </ol> <pre><code>git clone https://github.com/erichutchins/nwgrep.git\ncd nwgrep\n</code></pre> <ol> <li>Sync development dependencies:</li> </ol> <pre><code># Using just (recommended)\njust sync\n\n# Or using uv directly\nuv sync --group dev\n</code></pre> <p>This installs:</p> <ul> <li>Core test backends: pandas, polars, pyarrow</li> <li>Test tools: pytest, pytest-cov</li> <li>Linting tools: ruff, pre-commit</li> </ul>"},{"location":"contributing/#development-workflow","title":"Development Workflow","text":""},{"location":"contributing/#using-just-recommended","title":"Using just (Recommended)","text":"<p>Run <code>just</code> to see all available commands:</p> <pre><code>just --list\n</code></pre> <p>Common commands:</p> Command Description <code>just sync</code> Sync development dependencies <code>just test</code> Run all tests with core backends <code>just test-backend pandas</code> Run tests with a specific backend <code>just lint</code> Run linter <code>just lint-fix</code> Run linter and auto-fix issues <code>just format</code> Format code <code>just check</code> Run all checks (lint, format, typecheck) <code>just ci</code> Full CI check (checks + tests) <code>just smoke</code> Run smoke test <code>just coverage</code> Generate HTML coverage report"},{"location":"contributing/#using-uv-directly","title":"Using uv Directly","text":"<p>If you prefer not to use just:</p> <pre><code># Run tests\nuv run pytest --backend=pandas --backend=polars --backend=pyarrow\n\n# Run linter\nuv run ruff check src/ tests/\n\n# Run formatter\nuv run ruff format src/ tests/\n\n# Run type checker\nuvx ty check src/\n\n# Run smoke test\nuv run python tests/smoke_test.py\n</code></pre>"},{"location":"contributing/#testing","title":"Testing","text":""},{"location":"contributing/#running-tests","title":"Running Tests","text":"<p>Tests support multiple backends via the <code>--backend</code> flag:</p> <pre><code># Run with all core backends\njust test\n\n# Run with specific backend(s)\nuv run pytest --backend=pandas\nuv run pytest --backend=polars --backend=pyarrow\n\n# Run specific test file\njust test tests/test_cli.py\n\n# Run with verbose output\njust test -v\n</code></pre>"},{"location":"contributing/#test-structure","title":"Test Structure","text":"<ul> <li><code>tests/test_nwgrep.py</code> - Core nwgrep function tests</li> <li><code>tests/test_cli.py</code> - CLI integration tests</li> <li><code>tests/test_accessor.py</code> - Pandas/Polars accessor tests</li> <li><code>tests/smoke_test.py</code> - Basic import and functionality check</li> </ul>"},{"location":"contributing/#code-quality","title":"Code Quality","text":""},{"location":"contributing/#linting-and-formatting","title":"Linting and Formatting","text":"<p>We use ruff for both linting and formatting:</p> <pre><code># Check for issues\njust lint\njust format-check\n\n# Auto-fix issues\njust lint-fix\njust format\n</code></pre>"},{"location":"contributing/#type-checking","title":"Type Checking","text":"<p>We use ty for type checking:</p> <pre><code>just typecheck\n</code></pre>"},{"location":"contributing/#pre-commit-hooks","title":"Pre-commit Hooks","text":"<p>Install pre-commit hooks to run checks automatically before each commit:</p> <pre><code>uv run pre-commit install\n</code></pre> <p>Run hooks manually on all files:</p> <pre><code>just pre-commit\n</code></pre>"},{"location":"contributing/#project-structure","title":"Project Structure","text":"<pre><code>nwgrep/\n\u251c\u2500\u2500 src/nwgrep/\n\u2502   \u251c\u2500\u2500 __init__.py      # Package exports\n\u2502   \u251c\u2500\u2500 core.py          # Main nwgrep() function\n\u2502   \u251c\u2500\u2500 accessor.py      # Pandas/Polars .grep() accessor\n\u2502   \u2514\u2500\u2500 cli.py           # Command-line interface\n\u251c\u2500\u2500 tests/\n\u2502   \u251c\u2500\u2500 conftest.py      # Pytest fixtures\n\u2502   \u251c\u2500\u2500 test_nwgrep.py   # Core function tests\n\u2502   \u251c\u2500\u2500 test_cli.py      # CLI tests\n\u2502   \u251c\u2500\u2500 test_accessor.py # Accessor tests\n\u2502   \u2514\u2500\u2500 smoke_test.py    # Smoke test\n\u251c\u2500\u2500 pyproject.toml       # Project configuration\n\u251c\u2500\u2500 justfile             # Development commands\n\u2514\u2500\u2500 CONTRIBUTING.md      # This file\n</code></pre>"},{"location":"contributing/#dependency-groups","title":"Dependency Groups","text":"<p>The project uses uv dependency groups for organization:</p> Group Contents Usage <code>core</code> pandas, polars, pyarrow Core test backends <code>tests</code> pytest, pytest-cov Test runner <code>lint</code> ruff, pre-commit Code quality tools <code>dev</code> All of the above Full development environment <p>Install specific groups:</p> <pre><code>uv sync --group tests        # Just test tools\nuv sync --group dev          # Full dev environment\n</code></pre>"},{"location":"contributing/#making-changes","title":"Making Changes","text":"<ol> <li>Create a new branch for your changes:</li> </ol> <pre><code>git checkout -b feature/your-feature-name\n</code></pre> <ol> <li>Make your changes and ensure all checks pass:</li> </ol> <pre><code>just ci\n</code></pre> <ol> <li>Commit your changes with a descriptive message following conventional commits:</li> </ol> <pre><code>git commit -m \"feat: add new feature\"\ngit commit -m \"fix: resolve bug in cli\"\ngit commit -m \"docs: update contributing guide\"\n</code></pre> <ol> <li>Push and open a pull request.</li> </ol>"},{"location":"contributing/#cli-development","title":"CLI Development","text":"<p>The CLI requires polars for efficient lazy scanning of binary formats. Users install it with:</p> <pre><code>pip install 'nwgrep[cli]'\n</code></pre> <p>When developing CLI features, ensure polars is available:</p> <pre><code>uv sync --group dev  # Already includes polars via core group\n</code></pre>"},{"location":"contributing/#questions","title":"Questions?","text":"<p>Feel free to open an issue for questions or discussions about contributing.</p>"},{"location":"installation/","title":"Installation","text":""},{"location":"installation/#basic-installation","title":"Basic Installation","text":"<p>Install nwgrep using uv (recommended) or pip:</p> uvpip <pre><code>uv add nwgrep\n</code></pre> <pre><code>pip install nwgrep\n</code></pre> <p>Note</p> <p>The basic installation includes only the core nwgrep library and Narwhals. You'll need to install at least one dataframe backend separately.</p>"},{"location":"installation/#with-dataframe-backends","title":"With Dataframe Backends","text":"<p>Install nwgrep with your preferred dataframe backend(s):</p> pandaspolarspyarrowdaskdaftcuDF (GPU)All Backends <pre><code>uv add nwgrep[pandas]\n# or\npip install nwgrep[pandas]\n</code></pre> <pre><code>uv add nwgrep[polars]\n# or\npip install nwgrep[polars]\n</code></pre> <pre><code>uv add nwgrep[pyarrow]\n# or\npip install nwgrep[pyarrow]\n</code></pre> <pre><code>uv add nwgrep[dask]\n# or\npip install nwgrep[dask]\n</code></pre> <pre><code>uv add nwgrep[daft]\n# or\npip install nwgrep[daft]\n</code></pre> <pre><code>uv add nwgrep[cudf]\n# or\npip install nwgrep[cudf]\n</code></pre> <p>Warning</p> <p>cuDF is only available on Linux with Python 3.10-3.13 and requires CUDA-capable GPUs.</p> <pre><code>uv add nwgrep[all]\n# or\npip install nwgrep[all]\n</code></pre> <p>This installs pandas, polars, pyarrow, daft, dask, and duckdb.</p>"},{"location":"installation/#command-line-interface","title":"Command Line Interface","text":"<p>To use nwgrep from the command line for searching parquet/feather files:</p> <pre><code>uv add nwgrep[cli]\n# or\npip install nwgrep[cli]\n</code></pre> <p>This includes polars for efficient lazy scanning of binary formats.</p> <p>Then you can use:</p> <pre><code>nwgrep \"pattern\" datafile.parquet\n</code></pre>"},{"location":"installation/#development-installation","title":"Development Installation","text":"<p>If you want to contribute or modify nwgrep:</p> <pre><code># Clone the repository\ngit clone https://github.com/erichutchins/nwgrep.git\ncd nwgrep\n\n# Install with development dependencies\nuv sync --group dev\n</code></pre> <p>This installs:</p> <ul> <li>Core testing backends (pandas, polars, pyarrow)</li> <li>Testing tools (pytest, pytest-cov)</li> <li>Linting and formatting tools (ruff, pre-commit)</li> </ul> <p>See Contributing for more details on development setup.</p>"},{"location":"installation/#backend-compatibility","title":"Backend Compatibility","text":"<p>nwgrep works with any backend supported by Narwhals:</p> Backend Status Notes pandas \u2705 Full support Tested with pandas &gt;= 1.1.3 polars \u2705 Full support Supports both DataFrame and LazyFrame pyarrow \u2705 Full support - daft \u2705 Full support Supports lazy evaluation dask \u2705 Full support Distributed dataframes modin \u2705 Full support Parallel pandas cuDF \u2705 Full support GPU-accelerated (Linux only) pyspark \u2705 Full support - duckdb \u2705 Full support - ibis \u2705 Full support -"},{"location":"installation/#verifying-installation","title":"Verifying Installation","text":"<p>Test your installation:</p> <pre><code>import nwgrep\nimport pandas as pd\n\ndf = pd.DataFrame({\"col\": [\"hello\", \"world\"]})\nresult = nwgrep.nwgrep(df, \"hello\")\nprint(result)\n</code></pre> <p>Expected output:</p> <pre><code>     col\n0  hello\n</code></pre>"},{"location":"installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"installation/#import-errors","title":"Import Errors","text":"<p>If you get an import error for a specific backend:</p> <pre><code>ImportError: pandas is not installed\n</code></pre> <p>Install the missing backend:</p> <pre><code>uv add pandas  # or pip install pandas\n</code></pre>"},{"location":"installation/#type-checking","title":"Type Checking","text":"<p>nwgrep includes full type hints. For the best type checking experience, use ty (Red Knot):</p> <pre><code>uvx ty check your_script.py\n</code></pre>"},{"location":"installation/#next-steps","title":"Next Steps","text":"<ul> <li>Usage Guide - Learn how to use nwgrep</li> <li>API Reference - Complete function reference</li> <li>CLI Reference - Command-line usage</li> </ul>"},{"location":"usage/","title":"Usage Guide","text":"<p>This guide covers all the ways to use nwgrep for searching and filtering dataframes.</p>"},{"location":"usage/#basic-search","title":"Basic Search","text":"<p>Search for a pattern across all columns:</p> <pre><code>import pandas as pd\nfrom nwgrep import nwgrep\n\ndf = pd.DataFrame({\n    \"name\": [\"Alice\", \"Bob\", \"Eve\"],\n    \"email\": [\"alice@example.com\", \"bob@test.org\", \"eve@example.com\"],\n    \"status\": [\"active\", \"locked\", \"active\"],\n})\n\n# Find all rows containing \"active\"\nresult = nwgrep(df, \"active\")\nprint(result)\n</code></pre> <p>Output:</p> <pre><code>    name               email  status\n0  Alice  alice@example.com  active\n2    Eve    eve@example.com  active\n</code></pre>"},{"location":"usage/#search-options","title":"Search Options","text":""},{"location":"usage/#case-insensitive-search","title":"Case-Insensitive Search","text":"<pre><code># Match \"ACTIVE\", \"active\", \"Active\", etc.\nresult = nwgrep(df, \"ACTIVE\", case_sensitive=False)\n</code></pre>"},{"location":"usage/#invert-match","title":"Invert Match","text":"<p>Return rows that don't match the pattern (like <code>grep -v</code>):</p> <pre><code># Find all rows NOT containing \"active\"\nresult = nwgrep(df, \"active\", invert=True)\nprint(result)\n</code></pre> <p>Output:</p> <pre><code>  name           email  status\n1  Bob  bob@test.org  locked\n</code></pre>"},{"location":"usage/#column-specific-search","title":"Column-Specific Search","text":"<p>Search only in specific columns:</p> <pre><code># Only search in the email column\nresult = nwgrep(df, \"example.com\", columns=[\"email\"])\nprint(result)\n</code></pre> <p>Output:</p> <pre><code>    name               email  status\n0  Alice  alice@example.com  active\n2    Eve    eve@example.com  active\n</code></pre>"},{"location":"usage/#regex-search","title":"Regex Search","text":"<p>Use regular expressions for complex patterns:</p> <pre><code># Find emails with .com domain\nresult = nwgrep(df, r\"\\.com$\", regex=True, columns=[\"email\"])\n\n# Find names starting with A or E\nresult = nwgrep(df, r\"^(A|E)\", regex=True, columns=[\"name\"])\n</code></pre>"},{"location":"usage/#multiple-patterns","title":"Multiple Patterns","text":"<p>Search for any of multiple patterns (OR logic):</p> <pre><code># Find rows containing \"Alice\" OR \"Bob\"\nresult = nwgrep(df, [\"Alice\", \"Bob\"])\n</code></pre>"},{"location":"usage/#whole-word-matching","title":"Whole Word Matching","text":"<p>Match complete words only:</p> <pre><code>df = pd.DataFrame({\n    \"text\": [\"activate\", \"active\", \"actor\"]\n})\n\n# Only matches \"active\", not \"activate\" or \"actor\"\nresult = nwgrep(df, \"active\", whole_word=True)\n</code></pre>"},{"location":"usage/#usage-patterns","title":"Usage Patterns","text":""},{"location":"usage/#method-1-direct-function-call","title":"Method 1: Direct Function Call","text":"<p>The simplest approach - call <code>nwgrep()</code> directly:</p> <pre><code>from nwgrep import nwgrep\n\nresult = nwgrep(df, \"pattern\")\n</code></pre> <p>Best for: Simple scripts, one-off searches, maximum compatibility.</p>"},{"location":"usage/#method-2-pipe-method","title":"Method 2: Pipe Method","text":"<p>Use with pandas/polars <code>.pipe()</code> for functional-style data pipelines:</p> <pre><code>result = df.pipe(nwgrep, \"pattern\")\n\n# Beautiful chaining\nresult = (\n    df\n    .pipe(nwgrep, \"active\")\n    .pipe(nwgrep, \"example.com\", columns=[\"email\"])\n    .pipe(lambda x: x.sort_values('name'))\n)\n</code></pre> <p>Best for: Data pipelines, functional programming style, method chaining.</p>"},{"location":"usage/#method-3-accessor-method","title":"Method 3: Accessor Method","text":"<p>Register <code>.grep()</code> as a dataframe method for the cleanest syntax:</p> <pre><code>from nwgrep import register_grep_accessor\n\n# Register once at the start of your script/notebook\nregister_grep_accessor()\n\n# Now use .grep() directly\nresult = df.grep(\"active\")\nresult = df.grep(\"ACTIVE\", case_sensitive=False)\nresult = df.grep(\"pattern\", columns=[\"email\"])\n</code></pre> <p>Best for: Interactive use (notebooks), frequent searching, cleanest syntax.</p> <p>Note</p> <p>The accessor method works with both pandas and polars DataFrames.</p>"},{"location":"usage/#method-4-narwhals-native","title":"Method 4: Narwhals Native","text":"<p>Work directly with Narwhals objects in backend-agnostic code:</p> <pre><code>import narwhals as nw\nfrom nwgrep import nwgrep\n\n# Accept any backend\ndef process_data(df_native):\n    df = nw.from_native(df_native)\n    result = nwgrep(df, \"pattern\")\n    return nw.to_native(result)\n\n# Works with pandas\nimport pandas as pd\ndf_pandas = pd.DataFrame({\"col\": [\"a\", \"b\"]})\nresult = process_data(df_pandas)\n\n# Works with polars\nimport polars as pl\ndf_polars = pl.DataFrame({\"col\": [\"a\", \"b\"]})\nresult = process_data(df_polars)\n</code></pre> <p>Best for: Library code, backend-agnostic functions, writing reusable components.</p>"},{"location":"usage/#working-with-different-backends","title":"Working with Different Backends","text":"<p>nwgrep works seamlessly across all backends:</p> pandaspolars (eager)polars (lazy)daft (lazy)pyarrow <pre><code>import pandas as pd\nfrom nwgrep import nwgrep\n\ndf = pd.DataFrame({\"col\": [\"foo\", \"bar\", \"baz\"]})\nresult = nwgrep(df, \"ba\")\n# Returns pandas DataFrame\n</code></pre> <pre><code>import polars as pl\nfrom nwgrep import nwgrep\n\ndf = pl.DataFrame({\"col\": [\"foo\", \"bar\", \"baz\"]})\nresult = nwgrep(df, \"ba\")\n# Returns polars DataFrame\n</code></pre> <pre><code>import polars as pl\nfrom nwgrep import nwgrep\n\n# LazyFrame - no computation until .collect()\ndf = pl.scan_parquet(\"data.parquet\")\nresult = nwgrep(df, \"ba\")\n# Returns polars LazyFrame\n\n# Collect when ready\nfinal = result.collect()\n</code></pre> <pre><code>import daft\nfrom nwgrep import nwgrep\n\ndf = daft.read_parquet(\"data.parquet\")\nresult = nwgrep(df, \"ba\")\n# Returns daft DataFrame (lazy)\n\nresult.show()  # Trigger computation\n</code></pre> <pre><code>import pyarrow as pa\nfrom nwgrep import nwgrep\n\ndf = pa.table({\"col\": [\"foo\", \"bar\", \"baz\"]})\nresult = nwgrep(df, \"ba\")\n# Returns pyarrow Table\n</code></pre>"},{"location":"usage/#highlighting-results","title":"Highlighting Results","text":"<p>For pandas and polars backends, you can highlight the specific cells containing matches in notebooks (Jupyter, Marimo):</p> <pre><code>from nwgrep import nwgrep\nimport polars as pl\n\ndf = pl.DataFrame({\n    \"timestamp\": [\"2024-01-01\", \"2024-01-02\", \"2024-01-03\"],\n    \"level\": [\"INFO\", \"ERROR\", \"WARN\"],\n    \"message\": [\"Started\", \"Connection failed\", \"Slow query\"]\n})\n\n# Highlight cells containing \"ERROR\" with yellow background\nresult = nwgrep(df, \"ERROR\", highlight=True)\n# In Jupyter/Marimo, only cells containing the match are highlighted\n</code></pre> <p>Styling Requirements:</p> <ul> <li>Pandas: Uses built-in <code>pandas.Styler</code> (no additional dependencies)</li> <li>Polars: Requires <code>great-tables</code> library (install with <code>uv add 'nwgrep[notebook]'</code>)</li> </ul> <p>Highlighting Features:</p> <ul> <li>Only cells containing the matched text are highlighted with yellow background</li> <li>Returns a styled object that displays beautifully in notebooks</li> <li>Works across all columns, highlighting only the specific cells with matches</li> <li>Incompatible with <code>count=True</code> (raises <code>ValueError</code>)</li> <li>Works with all search options (regex, case-insensitive, column filtering, etc.)</li> </ul>"},{"location":"usage/#advanced-examples","title":"Advanced Examples","text":""},{"location":"usage/#email-domain-search","title":"Email Domain Search","text":"<pre><code>df = pd.DataFrame({\n    \"user\": [\"alice\", \"bob\", \"charlie\"],\n    \"email\": [\"alice@gmail.com\", \"bob@company.com\", \"charlie@gmail.com\"]\n})\n\n# Find all Gmail users\ngmail_users = nwgrep(df, \"gmail.com\", columns=[\"email\"])\n</code></pre>"},{"location":"usage/#log-file-analysis","title":"Log File Analysis","text":"<pre><code>df = pd.DataFrame({\n    \"timestamp\": [\"2024-01-01\", \"2024-01-01\", \"2024-01-02\"],\n    \"level\": [\"INFO\", \"ERROR\", \"WARN\"],\n    \"message\": [\"Started\", \"Connection failed\", \"Slow query\"]\n})\n\n# Find all errors and warnings\nissues = nwgrep(df, [\"ERROR\", \"WARN\"], columns=[\"level\"])\n\n# Find connection-related messages\nconn_logs = nwgrep(df, \"connection\", case_sensitive=False)\n</code></pre>"},{"location":"usage/#data-quality-checks","title":"Data Quality Checks","text":"<pre><code># Find rows with email addresses (regex)\nhas_email = nwgrep(df, r\"\\w+@\\w+\\.\\w+\", regex=True)\n\n# Find rows without phone numbers (invert)\nno_phone = nwgrep(df, r\"\\d{3}-\\d{3}-\\d{4}\", regex=True, invert=True)\n</code></pre>"},{"location":"usage/#complex-pipeline","title":"Complex Pipeline","text":"<pre><code>from nwgrep import register_grep_accessor\nregister_grep_accessor()\n\n# Chain multiple operations\nresult = (\n    df\n    .grep(\"active\", columns=[\"status\"])      # Only active users\n    .grep(\"@company.com\", columns=[\"email\"]) # Company emails\n    .grep(\"admin\", invert=True)              # Exclude admins\n    .sort_values(\"name\")                     # Sort by name\n    .reset_index(drop=True)\n)\n</code></pre>"},{"location":"usage/#performance-tips","title":"Performance Tips","text":""},{"location":"usage/#use-column-filtering","title":"Use Column Filtering","text":"<p>When you know which columns contain your data, specify them:</p> <pre><code># Faster - only searches email column\nresult = nwgrep(df, \"example.com\", columns=[\"email\"])\n\n# Slower - searches all columns\nresult = nwgrep(df, \"example.com\")\n</code></pre>"},{"location":"usage/#leverage-lazy-evaluation","title":"Leverage Lazy Evaluation","text":"<p>With polars or daft, use lazy frames for better performance:</p> <pre><code>import polars as pl\n\n# Lazy - builds query plan, executes once\ndf = (\n    pl.scan_parquet(\"huge_file.parquet\")\n    .pipe(nwgrep, \"pattern\")\n    .collect()\n)\n</code></pre>"},{"location":"usage/#choose-the-right-backend","title":"Choose the Right Backend","text":"<p>Different backends excel at different tasks:</p> <ul> <li>pandas: Best for small-medium data, interactive work</li> <li>polars: Best for large data, complex transformations</li> <li>dask: Best for data larger than memory, distributed computing</li> <li>cuDF: Best when you have GPU acceleration available</li> </ul>"},{"location":"usage/#common-patterns","title":"Common Patterns","text":""},{"location":"usage/#quick-data-exploration","title":"Quick Data Exploration","text":"<pre><code>from nwgrep import register_grep_accessor\nregister_grep_accessor()\n\n# Quick searches in notebooks\ndf.grep(\"TODO\")         # Find TODO items\ndf.grep(\"@\")            # Find rows with email addresses\ndf.grep(\"error\", case_sensitive=False)  # Find errors\n</code></pre>"},{"location":"usage/#data-cleaning","title":"Data Cleaning","text":"<pre><code># Remove test/dummy data\nclean_df = df.pipe(nwgrep, \"test\", invert=True)\n\n# Keep only valid email addresses\nvalid_emails = df.pipe(\n    nwgrep,\n    r\"^[\\w\\.-]+@[\\w\\.-]+\\.\\w+$\",\n    regex=True,\n    columns=[\"email\"]\n)\n</code></pre>"},{"location":"usage/#filtering-pipelines","title":"Filtering Pipelines","text":"<pre><code>def filter_active_users(df):\n    return df.pipe(nwgrep, \"active\", columns=[\"status\"])\n\ndef filter_premium(df):\n    return df.pipe(nwgrep, \"premium\", columns=[\"tier\"])\n\n# Compose filters\nresult = (\n    raw_data\n    .pipe(filter_active_users)\n    .pipe(filter_premium)\n)\n</code></pre>"},{"location":"usage/#next-steps","title":"Next Steps","text":"<ul> <li>API Reference - Complete parameter documentation</li> <li>CLI Reference - Command-line usage</li> <li>Contributing - Help improve nwgrep</li> </ul>"},{"location":"vibecoding/","title":"Development Setup","text":"<p>This page documents the tools and AI agents used to develop nwgrep.</p>"},{"location":"vibecoding/#ai-agents-models","title":"AI Agents &amp; Models","text":""},{"location":"vibecoding/#google-antigravity","title":"Google Antigravity","text":"<p>antigravity.google</p> <ul> <li>Flash - Quick iterations and code generation</li> <li>Gemini Pro - Complex reasoning and design decisions</li> </ul>"},{"location":"vibecoding/#zed-editor-with-claude","title":"Zed Editor with Claude","text":"<p>zed.dev</p> <ul> <li>Claude Opus 4.5 - Architecture and complex refactoring</li> <li>Claude Sonnet 4.5 - Feature implementation and documentation</li> </ul>"},{"location":"vibecoding/#tools-extensions","title":"Tools &amp; Extensions","text":""},{"location":"vibecoding/#claude-plugins","title":"Claude Plugins","text":"<p>github.com/laurigates/claude-plugins</p> <p>Enhanced Claude capabilities within Zed for file operations, git integration, and terminal commands.</p>"},{"location":"vibecoding/#roborev","title":"Roborev","text":"<p>roborev.io</p> <p>Continuous code review and refactoring. Uses a git-hook to run and evaluate each commit.</p>"},{"location":"vibecoding/#development-stack","title":"Development Stack","text":"Tool Purpose Documentation uv Python package management docs.astral.sh/uv ruff Linting and formatting docs.astral.sh/ruff ty Python type checker docs.astral.sh/ty pytest Testing framework docs.pytest.org just Command runner just.systems prek Better pre-commit prek.j178.dev mkdocs-material Documentation squidfunk.github.io/mkdocs-material"}]}